<!DOCTYPE html> <!-- Defines the document as HTML5 -->
<html lang="de"> <!-- Root HTML element, language set to German -->

<head>
  <meta charset="UTF-8" /> <!-- Sets character encoding to UTF-8 -->
  <title>Abfahrt Bus</title> <!-- Page title shown on browser tab -->

  <!-- Import Google Fonts Poppins and Rajdhani -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">

  <style>
    /* Define color variables for easy reuse */
    :root {
      --red: #e30a0e;     /* Red color used in sidebar */
      --black: #1a1a1a;   /* Black color used in header */
      --beige: #f5ebdd;   /* Beige background color */
      --dbblue: #192176;  /* Dark blue color for right bar */
    }

    /* Apply universal box-sizing and reset margin/padding */
    * {
      box-sizing: border-box; /* Makes width/height include padding & border */
      margin: 0;              /* Removes default margin */
      padding: 0;             /* Removes default padding */
    }

    /* Set up base styles for html and body */
    html, body {
      height: 100vh;             /* Full viewport height */
      width: 100vw;              /* Full viewport width */
      font-family: 'Poppins', sans-serif; /* Main font */
      background-color: var(--beige); /* Beige page background */
      color: var(--black);       /* Default text color */
      overflow: hidden;          /* Disable page scrolling */
    }

    /* Top header bar styling */
    .top-bar {
      position: fixed;               /* Fixes to viewport top */
      top: 0;                       /* Align at very top */
      left: 0;                      /* Align left */
      width: 100%;                  /* Full width */
      height: 80px;                 /* Fixed height */
      background-color: var(--black); /* Black background */
      display: flex;                /* Flex container for layout */
      align-items: center;          /* Vertically center content */
      justify-content: space-between; /* Space between clock and logo */
      padding: 0 20px 0 10px;       /* Left and right padding */
      z-index: 10;                 /* Above most other elements */
      border-bottom-left-radius: 20px; /* Rounded bottom corners */
      border-bottom-right-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); /* Drop shadow for depth */
    }

    /* Clock style */
    .clock {
      font-family: 'Rajdhani', sans-serif; /* Clock uses Rajdhani font */
      font-size: 56px;                      /* Large font size */
      font-weight: 700;                     /* Bold text */
      color: var(--beige);                  /* Beige text color */
      letter-spacing: 3px;                  /* Space between letters */
    }

    /* Logo container positioning */
    .logo-container {
      position: relative;  /* Position relative to parent */
      left: -25px;         /* Shift left by 25 pixels */
    }

    /* Logo image styling */
    .logo-container img {
      height: 60px;                      /* Fixed height */
      object-fit: contain;               /* Keep aspect ratio */
      filter: drop-shadow(0 0 5px var(--red)); /* Red glow shadow */
    }

    /* Left sidebar styling */
    .sidebar {
      position: fixed;                     /* Fixes to viewport */
      top: 100px;                         /* Start below top bar */
      left: 20px;                        /* 20px from left edge */
      width: 70px;                       /* Fixed width */
      height: calc(100vh - 110px);       /* Fill remaining height */
      background: var(--red);             /* Red background */
      color: var(--beige);                /* Beige text color */
      display: flex;                     /* Flex container */
      flex-direction: column;             /* Stack vertically */
      align-items: center;                /* Center horizontally */
      justify-content: flex-start;        /* Align items to top */
      padding-top: 40px;                  /* Padding from top */
      font-size: 28px;                   /* Large font size */
      font-weight: 900;                   /* Heavy font weight */
      font-family: 'Rajdhani', sans-serif; /* Rajdhani font */
      letter-spacing: 2px;                /* Spacing between letters */
      border-radius: 20px;                /* Rounded corners */
      box-shadow: 2px 4px 20px rgba(0, 0, 0, 0.4); /* Shadow for depth */
      z-index: 5;                        /* Below header */
    }

    /* Vertical spacing between sidebar letters */
    .sidebar span {
      margin: 6px 0;
    }

    /* Wrapper around the iframe */
    .iframe-wrapper {
      position: absolute;                     /* Positioned relative to nearest positioned ancestor */
      top: 80px;                             /* Just below the top bar */
      left: 110px;                           /* To the right of sidebar (70px + 20px margin + 20px extra) */
      width: calc(100% - 130px);             /* Remaining width minus sidebar and right bar */
      height: calc(100vh - 80px);            /* Full height minus top bar height */
      overflow: hidden;                      /* Hide overflow content */
    }

    /* Iframe styling */
    iframe {
      width: 100%;              /* Full width inside wrapper */
      height: 3000px;           /* Large fixed height to allow scrolling */
      border: none;             /* No border */
      transform: translateY(0); /* Initial vertical position */
      transition: transform 0.5s ease-in-out; /* Smooth scrolling effect */
    }

    /* Right blue vertical bar */
    .right-bar {
      position: fixed;                      /* Fixed to viewport */
      top: 60px;                          /* Slightly below top bar */
      right: 0;                          /* Aligned right */
      width: 50px;                       /* Fixed width */
      height: 100vh;                    /* Full viewport height */
      background-color: var(--dbblue);  /* Dark blue color */
      z-index: 9;                       /* Below top bar */
      border-top-left-radius: 20px;     /* Rounded top left corner */
      border-bottom-left-radius: 20px;  /* Rounded bottom left corner */
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3); /* Inner shadow for depth */
    }
  </style>
</head>

<body>

  <!-- Top header bar containing clock and logo -->
  <div class="top-bar">
    <div class="clock" id="clock">--:--:--</div> <!-- Clock placeholder -->
    <div class="logo-container">
      <img src="https://github.com/Ismailcny/instagram-counter-demo/raw/03fc8ceace2f72e7e45c5981f0cd340991424784/hildekeyf.png" alt="Logo" />
    </div>
  </div>

  <!-- Left vertical sidebar with letters spelling ABFAHRT BUS -->
  <div class="sidebar">
    <span>A</span>
    <span>B</span>
    <span>F</span>
    <span>A</span>
    <span>H</span>
    <span>R</span>
    <span>T</span>
    <span style="margin-top: 20px;">B</span> <!-- Extra margin before 'B' -->
    <span>U</span>
    <span>S</span>
  </div>

  <!-- Wrapper for the bus departures iframe -->
  <div class="iframe-wrapper">
    <iframe id="busFrame" src="https://www.bahnhof.de/hildesheim-hbf/abfahrt?verkehrsmittel=bus"></iframe>
  </div>

  <!-- Right vertical blue bar -->
  <div class="right-bar"></div>

  <script>
    // Get reference to iframe element
    const frame = document.getElementById('busFrame');

    // Current vertical scroll position (in pixels)
    let scrollPos = 0;

    // Scroll speed (pixels per interval tick)
    const scrollSpeed = 1.5;

    // Max scroll distance before refresh (adjust to fit content length)
    const maxScroll = 2000;

    // Function to scroll iframe content upwards
    function scrollFrame() {
      scrollPos += scrollSpeed;  // Increase scroll position

      if (scrollPos >= maxScroll) {  // Check if reached max scroll
        setTimeout(() => {
          frame.src = frame.src;  // Reload iframe to refresh content
          scrollPos = 0;          // Reset scroll position
        }, 1000);                 // Wait 1 second before reload
      }

      // Move iframe content up by scrollPos pixels
      frame.style.transform = `translateY(-${scrollPos}px)`;
    }

    // Function to update the clock display every second
    function updateClock() {
      const now = new Date(); // Current date/time
      const hrs = String(now.getHours()).padStart(2, '0');   // Format hours with leading zero
      const mins = String(now.getMinutes()).padStart(2, '0'); // Format minutes
      const secs = String(now.getSeconds()).padStart(2, '0'); // Format seconds

      // Set clock text content to HH:MM:SS
      document.getElementById('clock').textContent = `${hrs}:${mins}:${secs}`;
    }

    // Start scrolling and clock update when page loads
    window.addEventListener('load', () => {
      setInterval(scrollFrame, 50);   // Scroll iframe every 50ms (~20fps)
      updateClock();                  // Initial clock update immediately
      setInterval(updateClock, 1000); // Update clock every second
    });
  </script>

</body>

</html>
